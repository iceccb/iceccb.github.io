<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Ice&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Ice's Blog">
<meta property="og:url" content="http://iceccb.github.io/page/3/index.html">
<meta property="og:site_name" content="Ice's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ice's Blog">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Ice&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
<!--   <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      
<header id="header">
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Ice&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">everything will be ok</a>
        </h2>
      
    </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">博文</a>
        
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
      </nav>
      <nav id="sub-nav">
        
      </nav>
      
    </div>
  </div>
  <!--fork me on github-->
  <!--<a href="https://github.com/iceccb" id="fork-me-link"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>-->
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-loader-note" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/19/loader-note/">Node loader</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2015/01/19/loader-note/" class="article-date">
  <time datetime="2015-01-19T12:40:23.000Z" itemprop="datePublished">1月 19 2015</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>

      
<a href="/2015/01/19/loader-note/#comments" class="article-comment-link" data-thread-key="cj71c7g6v001woovgrs1lr9st" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="什么是loader"><a href="#什么是loader" class="headerlink" title="什么是loader"></a>什么是loader</h1><p>Node静态资源加载器。该模块通过两个步骤配合完成，代码部分根据环境生成标签。上线时，需要调用minify方法进行静态资源的合并和压缩。</p>
<pre><code>npm install loader
</code></pre><p>render：</p>
<pre><code>res.render(&apos;index&apos;, {
  Loader: require(&apos;loader&apos;)
});
</code></pre><p>或在app.js中：</p>
<pre><code>app.locals({
  Loader: require(&apos;loader&apos;)
});
</code></pre><p>模板文件：</p>
<pre><code>&lt;%- Loader(&quot;/public/javascripts/aa.js&quot;, &quot;/public/stylesheets/style.css&quot;)
.js(&quot;/public/javascripts/a.js&quot;)
.js(&quot;/public/javascripts/b.js&quot;)
.css(&quot;/public/stylesheets/style.css&quot;)
.done(assetsMap, prefix, combo) %&gt;
</code></pre><h1 id="环境判别"><a href="#环境判别" class="headerlink" title="环境判别"></a>环境判别</h1><p>环境判别由<code>done</code>方法的第三个参数决定，如果传入combo值，将决定选用线下版本(<code>false</code>)还是线上版本(<code>true</code>)。如果不传入第三个参数，将由环境变量决定。</p>
<pre><code>// 设置window下node环境变量
// 生产环境
set NODE_ENV=&quot;production&quot;
// 开发环境
set NODE_ENV=&quot;development&quot;
</code></pre><h1 id="线上输出"><a href="#线上输出" class="headerlink" title="线上输出"></a>线上输出</h1><p>在应用根目录下使用命令：</p>
<pre><code>// loader views_dir base_dir
loader ./views ./
</code></pre><p>会在根目录下生成assets.json文件：</p>
<pre><code>{&quot;/public/javascripts/aa.js&quot;:&quot;/public/javascripts/aa.2e4c08f9.min.js&quot;,&quot;/public/stylesheets/style.css&quot;:&quot;/public/stylesheets/style.b6b3ce7e.min.css&quot;}
</code></pre><p>在app.js中：</p>
<pre><code>app.locals({
  Loader: Loader,
  assets: require(&apos;./assets.json&apos;),
  mini_assets: true
});
</code></pre><p><code>done</code>方法参数为：</p>
<pre><code>.done(assets, &apos;&apos;, mini_assets)
</code></pre><p>html为：</p>
<pre><code>&lt;script src=&quot;/public/javascripts/aa.2e4c08f9.min.js&quot;&gt;&lt;/script&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;/public/stylesheets/style.b6b3ce7e.min.css&quot; media=&quot;all&quot;&gt;
</code></pre>
      
    </div>
    
  </div>
  
</article>






  
    <article id="post-ejs-note-4" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/19/ejs-note-4/">ejs学习笔记--nodejs（四）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2015/01/19/ejs-note-4/" class="article-date">
  <time datetime="2015-01-19T12:23:31.000Z" itemprop="datePublished">1月 19 2015</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ejs/">ejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>

      
<a href="/2015/01/19/ejs-note-4/#comments" class="article-comment-link" data-thread-key="cj71c7g7b002boovg0m531wse" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ejs模板引擎"><a href="#ejs模板引擎" class="headerlink" title="ejs模板引擎"></a>ejs模板引擎</h2><p>因为express默认的模板引擎为jade，如果你想生成ejs的程序骨架，可以使用以下命令生成程序：</p>
<pre><code>express -e myapp
// 安装依赖包，这里是express和ejs
cd myapp &amp;&amp; npm install
</code></pre><p>在app.js</p>
<pre><code>// 设置视图的路径
app.set(&apos;views&apos;, path.join(__dirname, &apos;views&apos;));
// 设置模板引擎为ejs
app.set(&apos;view engine&apos;, &apos;ejs&apos;);
// 如果你的ejs模板后缀为.html
app.set(&apos;view engine&apos;, &apos;html&apos;);
app.engine(&apos;.html&apos;, require(&apos;ejs&apos;).__express)；
</code></pre><h3 id="一个简单的例子"><a href="#一个简单的例子" class="headerlink" title="一个简单的例子"></a>一个简单的例子</h3><p>在app.js中：</p>
<pre><code>app.get(&apos;/&apos;, function(req, res) {
  res.render(&apos;index&apos;, {title: &apos;Express Ejs&apos;, message: &apos;hello world!&apos;});
});
</code></pre><p>./views/index.ejs:</p>
<pre><code>&lt;!doctype html&gt;
&lt;html lang=&quot;zh_CN&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;%= message%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
        
          <p class="article-more-link">
            <a href="/2015/01/19/ejs-note-4/#more">继续阅读</a>
          </p>
        
      
    </div>
    
  </div>
  
</article>






  
    <article id="post-ejs-node-3" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/29/ejs-node-3/">ejs学习笔记-源码（三）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2014/12/29/ejs-node-3/" class="article-date">
  <time datetime="2014-12-29T12:46:48.000Z" itemprop="datePublished">12月 29 2014</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ejs/">ejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>

      
<a href="/2014/12/29/ejs-node-3/#comments" class="article-comment-link" data-thread-key="cj71c7g7n002moovg4pmpva9q" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="EJS全局属性"><a href="#EJS全局属性" class="headerlink" title="EJS全局属性"></a>EJS全局属性</h1><p>EJS有三个比较重要的全局属性，分别为：</p>
<ul>
<li><code>cache</code>，设置模板是否缓存，默认值为<code>true</code><br>当你通过element或url创建EJS实例时，会在<code>EJS.templates_directory</code>对象中添加相应的属性（属性名为element的id或url），该属性为对象，其中<code>text</code>属性值为模板的内容。相应的有<code>EJS.get(path, cache)</code>和<code>EJS.update(path, template)</code>的方法获取、更新缓存</li>
<li><code>type</code>，设置模板的匹配符，默认为<code>&lt;</code></li>
<li><code>ext</code>，通过url加载模板的文件后缀，默认为<code>.ejs</code></li>
</ul>
<h1 id="EJS-Scanner类"><a href="#EJS-Scanner类" class="headerlink" title="EJS.Scanner类"></a>EJS.Scanner类</h1><p>我理解这个<code>Scanner</code>为一个解析器，用来解析EJS模板，它会解析模板非空的每行代码，然后对每行代码通过匹配符分隔后的字符串进行编译。匹配符为<code>/(&lt;%%)|(%%%%&gt;)|(&lt;%=)|(&lt;%#)|(&lt;%)|(%&gt;\n)|(%&gt;)|(\n)/</code>或<code>/(\[%%)|(%%\])|(\[%=)|(\[%#)|(\[%)|(%\]\n)|(%\])|(\n)/</code>。</p>
<h2 id="原型方法scan"><a href="#原型方法scan" class="headerlink" title="原型方法scan"></a>原型方法scan</h2><p>解析字符串，用分隔符<code>\n</code>将字符串分隔，保存到数组中，实现代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var source_split = rsplit(this.source, /\n/);&#10;for(var i=0; i&#60;source_split.length; i++) &#123;&#10; var item = source_split[i];&#10; this.scanline(item, regex, block);&#10;&#125;&#10;//&#22914;&#20197;&#19979;&#20195;&#30721;&#10;&#60;h1&#62;date_tag&#60;/h1&#62;&#10;&#60;div class=&#34;row&#34;&#62;&#60;%= date_tag(&#39;date&#39;, new Date())%&#62;&#60;/div&#62;&#10;&#60;% var a = &#39;hello&#39;; %&#62;&#10;//source_split&#25968;&#32452;&#20540;&#20026;&#10;[0] &#39;&#60;h1&#62;date_tag&#60;/h1&#62;&#39;&#10;[1] &#39;\n&#39;&#10;[2] &#39;&#60;div class=&#34;row&#34;&#62;&#60;%= date_tag(&#39;date&#39;, new Date())%&#62;&#60;/div&#62;&#39;&#10;[3] &#39;\n&#39;&#10;[4] &#39;&#60;% var a = &#39;hello&#39;; %&#62;&#39;</span><br></pre></td></tr></table></figure></p>
<h2 id="原型方法scanline"><a href="#原型方法scanline" class="headerlink" title="原型方法scanline"></a>原型方法scanline</h2><p>解析字符串，通过分隔符将字符串分隔，然后执行回调函数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var line_split = rsplit(line, regex);&#10;for(var i=0; i &#60; line_split.length; i++) &#123;&#10;    var token = line_split[i];&#10;    if (token != null) &#123;&#10;        try&#123;&#10;            block(token, this);&#10;        &#125;catch(e)&#123;&#10;            throw &#123;type: &#39;EJS.Scanner&#39;, line: this.lines&#125;;&#10;        &#125;&#10;    &#125;&#10;&#125;&#10;&#33509;line = &#60;% var a = &#34;hello&#34;; %&#62;&#10;&#21017;line_split = [&#39;&#60;%&#39;, &#39; var a = &#34;hello&#34;&#39;; &#39;%&#62;&#39;]</span><br></pre></td></tr></table></figure></p>
<h2 id="EJS-Scanner-to-text"><a href="#EJS-Scanner-to-text" class="headerlink" title="EJS.Scanner.to_text"></a>EJS.Scanner.to_text</h2><p>如果参数是<code>Date</code>对象则返回<code>toDateString()</code>，若为其他对象返回<code>toString()</code>，否则返回空字符串。</p>
        
          <p class="article-more-link">
            <a href="/2014/12/29/ejs-node-3/#more">继续阅读</a>
          </p>
        
      
    </div>
    
  </div>
  
</article>






  
    <article id="post-google-style-guide" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/14/google-style-guide/">google代码风格指南</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2014/12/14/google-style-guide/" class="article-date">
  <time datetime="2014-12-14T13:32:30.000Z" itemprop="datePublished">12月 14 2014</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>

      
<a href="/2014/12/14/google-style-guide/#comments" class="article-comment-link" data-thread-key="cj71c7g700020oovgol4rznm2" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文翻译自<a href="https://google-styleguide.googlecode.com/svn/trunk/htmlcssguide.xml">Google HTML/CSS Style Guide</a></p>
<h1 id="通用风格规则"><a href="#通用风格规则" class="headerlink" title="通用风格规则"></a>通用风格规则</h1><h2 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h2><p><strong>嵌入资源时省略协议</strong>。嵌入的图像或其他媒体资源、样式表、脚本的url地址是“http:”、“https:”可省略协议部分。可使URL变成相对地址，避免混合内容问题并略微减少文件大小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;!-- &#19981;&#25512;&#33616; --&#62;&#10;&#60;script src=&#34;http://www.google.com/js/gweb/analytics/autotrack.js&#34;&#62;&#60;/script&#62;&#10;.example &#123;&#10;  background: url(http://www.google.com/images/example);&#10;&#125;&#10;&#60;!-- &#25512;&#33616; --&#62;&#10;&#60;script src=&#34;//www.google.com/js/gweb/analytics/autotrack.js&#34;&#62;&#60;/script&#62;&#10;.example &#123;&#10;  background: url(//www.google.com/images/example);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="通用格式话规则"><a href="#通用格式话规则" class="headerlink" title="通用格式话规则"></a>通用格式话规则</h1><h2 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h2><p><strong>使用2个空格缩进</strong>。不要使用tab或tab混合空格。</p>
<h2 id="大小写"><a href="#大小写" class="headerlink" title="大小写"></a>大小写</h2><p><strong>只使用小写</strong>。所有代码使用小写，包括HTML标签、属性、属性值（不包括text/CDATA）、CSS选择器、CSS属性、CSS属性值。当然字符串仍可以使用大写。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;!-- &#19981;&#25512;&#33616; --&#62;&#10;&#60;A HREF=&#34;/&#34;&#62;Home&#60;/A&#62;&#10;color: #E5E5E5;&#10;&#60;!-- &#25512;&#33616; --&#62;&#10;&#60;img src=&#34;google.png&#34; alt=&#34;Google&#34;&#62;&#10;color: #e5e5e5;</span><br></pre></td></tr></table></figure></p>
<h2 id="末尾空格"><a href="#末尾空格" class="headerlink" title="末尾空格"></a>末尾空格</h2><p><strong>移除所有末尾空格</strong>。它们是不必要并可能带来麻烦。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;!-- &#19981;&#25512;&#33616; --&#62;&#10;&#60;p&#62;What?_&#10;&#60;!-- &#25512;&#33616; --&#62;&#10;&#60;p&#62;Yes please.</span><br></pre></td></tr></table></figure></p>
        
          <p class="article-more-link">
            <a href="/2014/12/14/google-style-guide/#more">继续阅读</a>
          </p>
        
      
    </div>
    
  </div>
  
</article>






  
    <article id="post-ejs-note-2" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/06/ejs-note-2/">ejs学习笔记（二）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2014/12/06/ejs-note-2/" class="article-date">
  <time datetime="2014-12-06T07:39:51.000Z" itemprop="datePublished">12月 6 2014</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ejs/">ejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>

      
<a href="/2014/12/06/ejs-note-2/#comments" class="article-comment-link" data-thread-key="cj71c7g7j002hoovglop677p1" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="视图工具"><a href="#视图工具" class="headerlink" title="视图工具"></a>视图工具</h1><p>EJS封装了一些视图工具插件，提供创建常用视图（如link，form）的快捷方式，让你的代码更简明扼要、更易懂。</p>
<h2 id="tag-tag-html-options-end"><a href="#tag-tag-html-options-end" class="headerlink" title="tag(tag, html_options, end)"></a>tag(tag, html_options, end)</h2><p>创建一个标签，<code>tag</code>为标签名，<code>html_options</code>为标签的属性值，<code>end</code>参数可选，设置标签的结束符，缺省为’&gt;’。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;%= tag(&#39;div&#39;, &#123;id: &#39;divElm&#39;, class=&#39;row&#39;&#125;)%&#62;&#10;//&#29983;&#25104;&#20197;&#19979;html&#10;&#60;div id=&#34;divElm&#34; class=&#34;row&#34;&#62;&#60;/div&#62;</span><br></pre></td></tr></table></figure></p>
<p>不过上面的代码在IE会报错，在EJS源码里是这么说的<em>special case because “class” is a reserved word in IE</em>，所以如果要设置class属性，则<code>&lt;%= tag(&#39;div&#39;, {id: &#39;divElm&#39;, Class=&#39;row&#39;})%&gt;</code></p>
<h2 id="start-tag-for-tag-html-options"><a href="#start-tag-for-tag-html-options" class="headerlink" title="start_tag_for(tag, html_options)"></a>start_tag_for(tag, html_options)</h2><p>创建一个标签的开始<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;%= start_tag_for(&#39;div&#39;, &#123;id: &#39;divElm&#39;, class=&#39;row&#39;&#125;)%&#62;&#10;//&#30456;&#24403;&#20110;&#10;&#60;%= tag(&#39;div&#39;, &#123;id: &#39;divElm&#39;, class=&#39;row&#39;&#125;)%&#62;</span><br></pre></td></tr></table></figure></p>
<h2 id="tag-end-tag"><a href="#tag-end-tag" class="headerlink" title="tag_end(tag)"></a>tag_end(tag)</h2><p>创建标签的结束<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;%= tag_end(&#39;div&#39;)%&#62;&#10;//&#29983;&#25104;&#20197;&#19979;html&#10;&#60;/div&#62;</span><br></pre></td></tr></table></figure></p>
<h2 id="single-tag-for-tag-html-options"><a href="#single-tag-for-tag-html-options" class="headerlink" title="single_tag_for(tag, html_options)"></a>single_tag_for(tag, html_options)</h2><p>创建一个自封闭标签，如img，input。但的HTML5的规范里，标签可以不闭合，关于闭不闭合，<em>伯乐在线</em>有篇文章写得挺清楚的：<a href="http://blog.jobbole.com/61514/">http://blog.jobbole.com/61514/</a>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;%= single_tag_for(&#39;img&#39;, &#123;id: &#39;imgElm&#39;, src=&#39;image.jpg&#39;&#125;)%&#62;&#10;//&#30456;&#24403;&#20110;&#10;&#60;%= tag(&#39;img&#39;, &#123;id: &#39;imgElm&#39;, src=&#39;image.jpg&#39;&#125;, &#39;/&#62;&#39;)%&#62;</span><br></pre></td></tr></table></figure></p>
        
          <p class="article-more-link">
            <a href="/2014/12/06/ejs-note-2/#more">继续阅读</a>
          </p>
        
      
    </div>
    
  </div>
  
</article>






  
    <article id="post--ejs-note-1" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/29/-ejs-note-1/">ejs学习笔记（一）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2014/11/29/-ejs-note-1/" class="article-date">
  <time datetime="2014-11-29T13:34:58.000Z" itemprop="datePublished">11月 29 2014</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ejs/">ejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>

      
<a href="/2014/11/29/-ejs-note-1/#comments" class="article-comment-link" data-thread-key="cj71c7g8i0038oovg5qhsjx3b" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="为什么学习ejs"><a href="#为什么学习ejs" class="headerlink" title="为什么学习ejs"></a>为什么学习ejs</h1><p>最近间间断断在学习<a href="http://www.nodejs.org" title="nodejs">nodejs</a>，也尝试写小的网站，前阵子匆匆忙忙写了个UED网站，给组内同事使用，前端都是静态html，但实在写得太烂，所以也不了了之。因此下决心学习一个模板引擎，而决定学习<a href="http://www.embeddedjs.com/" title="ejs">ejs</a>最大原因或许是它使用<code>&lt;% %&gt;</code>包裹代码吧，工作上一直使用的是asp，觉得上手会容易些也或许是由于习惯吧。本应该在本文开头分析ejs的优点，及其与其他模板引擎的对比的（如jade），但又觉得还没入门，没有太深的了解分析这些优点言之过早。</p>
<h1 id="ejs基础"><a href="#ejs基础" class="headerlink" title="ejs基础"></a>ejs基础</h1><p>跟asp一样：</p>
<ul>
<li>使用<code>&lt;% %&gt;</code>包裹javascript代码段</li>
<li>使用<code>&lt;%= %&gt;</code>添加html元素</li>
</ul>
<p>官网上一张图很好阐释了ejs的作用：<br><img src="/css/images/ejs-diagram.png" alt="图（1）"></p>
        
          <p class="article-more-link">
            <a href="/2014/11/29/-ejs-note-1/#more">继续阅读</a>
          </p>
        
      
    </div>
    
  </div>
  
</article>






  
    <article id="post-book-review-1" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/29/book-review-1/">“嫌疑人X的献身”读后感</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2014/11/29/book-review-1/" class="article-date">
  <time datetime="2014-11-29T09:00:52.000Z" itemprop="datePublished">11月 29 2014</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/读后感/">读后感</a></li></ul>

      
<a href="/2014/11/29/book-review-1/#comments" class="article-comment-link" data-thread-key="cj71c7g8e0035oovgavsuqayu" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="初识东野圭吾"><a href="#初识东野圭吾" class="headerlink" title="初识东野圭吾"></a>初识东野圭吾</h1><p>国庆回家为了在能在飞机上消磨下时间，随便在网上买了我的第一本东野圭吾的书<em>解忧杂货店</em>。此书讲了个很有意思关于时空的故事，也让我认识这个日本作家，作为一个普通2B青年，当然看不出作者写作手法、文学功底啥的，只是作为一个爱看小说的人，纯粹觉得这货写得还不错。之后想买书时都会找找他以前的作品，在APEC放假游玩回京的途中看了<em>白夜行</em>，丫的还挺厚。</p>
<h1 id="一个悲伤地故事"><a href="#一个悲伤地故事" class="headerlink" title="一个悲伤地故事"></a>一个悲伤地故事</h1><p>看完<em>白夜行</em>，我最大的感受是这真是个悲伤的故事。在金田一色色的表情和那句霸气的<strong>一切谜底都解开了</strong>中度过童年，也看了不少悬疑推理的书和影视作品，我很快就知道凶手是谁（让我自恋会）。其实<em>白夜行</em>中凶手很明显，可能是作者有意为之，因为这是个悲伤的故事。</p>
<h2 id="越漂亮的女人，越会骗人"><a href="#越漂亮的女人，越会骗人" class="headerlink" title="越漂亮的女人，越会骗人"></a>越漂亮的女人，越会骗人</h2><p>仍记得张无忌他妈临死说的这句话，无论什么时候都是真理啊。在<em>白夜行</em>中更是如此，世界上没有完美的事也没完美的人，完美不完美，看似完美却隐藏着多少不为人知的丑恶。天使的外表下却是个恶魔，虽然每个人都戴着面具，当一个漂亮的面具能欺骗几乎所有人，那就太恐怖了。如果是你，是宁愿活在虚伪的完美下，还是暴露在赤裸裸的残酷下？</p>
<blockquote>
<p>“我的天空里没有太阳，总是黑夜，但并不暗，因为有东西代替了太阳。<br>  虽然没有太阳那么明亮，但对我来说已经足够。凭借着这份光，我便能把黑夜当成白天。<br>  我从来就没有太阳，所以不怕失去”</p>
</blockquote>
        
          <p class="article-more-link">
            <a href="/2014/11/29/book-review-1/#more">继续阅读</a>
          </p>
        
      
    </div>
    
  </div>
  
</article>






  
    <article id="post-markdown-note" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/28/markdown-note/">markdown学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2014/11/28/markdown-note/" class="article-date">
  <time datetime="2014-11-28T12:31:51.000Z" itemprop="datePublished">11月 28 2014</time>
</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/language/">language</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>

      
<a href="/2014/11/28/markdown-note/#comments" class="article-comment-link" data-thread-key="cj71c7g6p001roovgyq72o6zz" data-short-name="iceccb" style="display:none">comments</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>记得上大学时，blog还很火，我也有个新浪的blog，经常写文章，多数跟感情生活有关，后来由于某些原因把所有文章删除了，也关闭了blog。<br>最近想建个blog，一开始是想用nodejs自己搭，但nodejs我也还在学习中，何况也没文章。所以选了hexo这个blog框架，先写些文章，等一切成熟了再搭属于自己的blog。接触hexo，也首次接触了markdown，以前一直不知道文件后缀.md是什么东西，作为一个web开发程序猿，好像说不过去，不过人精力有限也不能面面俱到嘛，何况我也只是个菜鸟。好吧，一切从学习markdown开始。</p>
<h2 id="什么是markdown？"><a href="#什么是markdown？" class="headerlink" title="什么是markdown？"></a>什么是markdown？</h2><p>首先，什么是markdown？它是一种轻量级的标记语言，是一种将文本转换成html的web写作工具，提供了易于读写的文本标记格式，它的目标是适用于网络的书写语言。</p>
<h2 id="为什么使用markdown？"><a href="#为什么使用markdown？" class="headerlink" title="为什么使用markdown？"></a>为什么使用markdown？</h2><p>markdown的理念是让文档具有更高的可读性、易写、易于修改，区别于html使用标签和格式化结构来描述文档。但Markdown 不是想要取代 HTML，HTML 是一种发布的格式，Markdown 是一种书写的格式。</p>
<h2 id="兼容html"><a href="#兼容html" class="headerlink" title="兼容html"></a>兼容html</h2><p>Markdown 的格式语法只涵盖纯文本可以涵盖的范围。不在 Markdown涵盖范围之内的标签，都可以直接在文档里面用 HTML 撰写。</p>
<p>html区块元素，如<code>div</code>、<code>table</code>、<code>pre</code>、<code>p</code>等标签，必须在前后加上空行与其它内容区隔开，还要求它们的开始标签与结尾标签不能用制表符或空格来缩进。且在 HTML 区块标签间的 Markdown 格式语法将不会被处理。</p>
<p>HTML 的区段（行内）标签如<code>span</code>可以在 Markdown 的段落、列表或是标题里随意使用，Markdown 语法在 HTML 区段标签间是有效的。</p>
<h2 id="markdown语法"><a href="#markdown语法" class="headerlink" title="markdown语法"></a>markdown语法</h2><h3 id="区块元素"><a href="#区块元素" class="headerlink" title="区块元素"></a>区块元素</h3><ul>
<li><p>段落和换行</p>
<p>  段落是由一个或多个连续的文本行(允许段落内的强迫换行，即插入换行符，不会装换成<code>&lt;br /&gt;</code>)组成，它的前后要有一个以上的空行。如果想产生<code>&lt;br /&gt;</code>，先写两个以上空格再回车。</p>
</li>
</ul>
        
          <p class="article-more-link">
            <a href="/2014/11/28/markdown-note/#more">继续阅读</a>
          </p>
        
      
    </div>
    
  </div>
  
</article>






  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title widget-title-category">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习笔记/">学习笔记</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书/">读书</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">6</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title widget-title-recent">最近</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/09/01/p2v-transfer/">虚拟机p2v迁移介绍</a>
          </li>
        
          <li>
            <a href="/2017/08/31/data-center-network-serias-3-ONOS/">数据中心网络系列(3)--ONOS</a>
          </li>
        
          <li>
            <a href="/2017/08/25/data-center-network-serias-2-openflow/">数据中心网络系列(2)--openflow</a>
          </li>
        
          <li>
            <a href="/2017/08/22/data-center-network-serias-1-sdn/">数据中心网络系列(1)--SDN</a>
          </li>
        
          <li>
            <a href="/2017/08/01/finance-cloud-solution/">金融云解决方案</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title widget-title-tag">标签</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/ejs/" style="font-size: 16px;">ejs</a> <a href="/tags/javascript/" style="font-size: 16px;">javascript</a> <a href="/tags/language/" style="font-size: 10px;">language</a> <a href="/tags/network-openflow/" style="font-size: 10px;">network openflow</a> <a href="/tags/network-sdn/" style="font-size: 12px;">network sdn</a> <a href="/tags/nodejs/" style="font-size: 12px;">nodejs</a> <a href="/tags/web/" style="font-size: 20px;">web</a> <a href="/tags/云计算-方案/" style="font-size: 10px;">云计算 方案</a> <a href="/tags/政策/" style="font-size: 10px;">政策</a> <a href="/tags/电影/" style="font-size: 14px;">电影</a> <a href="/tags/虚拟机/" style="font-size: 10px;">虚拟机</a> <a href="/tags/话剧/" style="font-size: 10px;">话剧</a> <a href="/tags/读书笔记/" style="font-size: 10px;">读书笔记</a> <a href="/tags/读后感/" style="font-size: 14px;">读后感</a> <a href="/tags/随笔/" style="font-size: 18px;">随笔</a>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Ice Chan<br>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">博文</a>
  
</nav>
    
<script src="/js/jquery-1.9.1.min.js" type="text/javascript"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>